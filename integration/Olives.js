define("Olives/List",["Olives/OObject","Store"],function(f){function d(b){this.model.reset(b);this.template="<ul data-connect='root'></ul>";this.onRender=function(){this.model.loop(function(a,e){this.placeItem(e,a)},this);this.model.watch("added",this.placeItem,this);this.model.watch("updated",this.placeItem,this);this.model.watch("deleted",this.placeItem,this)};this.placeItem=function(a,e){var b=this.connects.root,d=e?this.itemRenderer(e):document.createTextNode("");b.childNodes[a]?b.replaceChild(d,
b.childNodes[a]):b.appendChild(d)};this.itemRenderer=function(a){var b=document.createElement("li");b.innerHTML=a;return b}}return function(b){d.prototype=new f;return new d(b)}});
define("Olives/OObject",["Store","StateMachine","Tools"],function(f,d,b){return function(){var a=function(a){var c=a.UI;if(c.template)c.dom=g,typeof c.template=="string"?c.dom.innerHTML=c.template:c.template instanceof HTMLElement&&c.dom.appendChild(c.template),b.toArray(c.dom.querySelectorAll("[data-connect]")).forEach(function(a){c.connects[a.getAttribute("data-connect")]=a}),c.onRender&&c.onRender();else throw Error("UI.template must be set prior to render");},e=function(a){var c=a.UI;a.params&&
a.params.appendChild(c.dom);c.onPlace&&c.onPlace()},g=document.createElement("div"),h=new d("Init",{Init:[["render",a,this,"Rendered"],["place",function(b){a(b);e(b)},this,"Rendered"]],Rendered:[["place",e,this],["render",a,this]]});this.model=new f;this.dom=this.template=null;this.connects={};this.onRender=function(){};this.action=function(a,b){h.event(a,{UI:this,params:b})};this.onPlace=function(){}}});
define("Olives/Text",["Olives/OObject"],function(f){function d(b){this.model.reset(b);this.model.watch("updated",function(a,b){this.connects[a].innerHTML=b},this);this.template="<p data-connect='content'></p>";this.onRender=function(){for(var a in this.connects)if(this.model.has(a)){var b=this.model.get(a);this.connects[a].innerHTML=b}else this.model.set(a,this.connects[a].innerHTML)}}return function(b){d.prototype=new f;return new d(b)}});
