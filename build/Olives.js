define("Olives/List",["Olives/OObject","Olives/Model-plugin"],function(g,c){function f(b){this.template="<ul data-model='toList'><li></li></ul>";this.model.reset(b);this.plugins.add("model",new c(this.model))}return function(b){f.prototype=new g;return new f(b)}});
define("Olives/Model-plugin",["Store","Observable"],function(g,c){return function(f){var b=null,h=new c,e=function(b,a){b.innerHTML=a};this.setModel=function(d){return d instanceof g?(b=d,b.watch("updated",function(a,b){h.notify(a,b)}),b.watch("added",function(a,b){h.notify(a,b)}),true):false};this.getModel=function(){return b};this.toList=function(d){var a=d.childNodes[0],i=document.createDocumentFragment();a&&(b.loop(function(b,d){var c=a.cloneNode(true);c.innerHTML=b;i.appendChild(c);h.watch(d,
function(a){c.innerHTML=a})}),b.watch("added",function(b,h){var c=a.cloneNode(true);c.innerHTML=h;d.insertBefore(c,d.childNodes[b])}),b.watch("deleted",function(a){d.replaceChild(document.createTextNode(""),d.childNodes[a])}),d.replaceChild(i,a))};this.toText=function(d,a){b.has(a)&&e(d,b.get(a));h.watch(a,function(a){d.innerHTML=a})};this.setModel(f)}});
define("Olives/OObject",["StateMachine","Store","Olives/Plugins"],function(g,c,f){return function(){var b=function(a){a=a.UI;if(a.template)a.dom=e,typeof a.template=="string"?a.dom.innerHTML=a.template:a.template instanceof HTMLElement&&a.dom.appendChild(a.template),a.plugins.apply(a.dom),a.onRender&&a.onRender();else throw Error("UI.template must be set prior to render");},h=function(a){var b=a.UI;a.params&&a.params.appendChild(b.dom);b.onPlace&&b.onPlace()},e=document.createElement("div"),d=new g("Init",
{Init:[["render",b,this,"Rendered"],["place",function(a){b(a);h(a)},this,"Rendered"]],Rendered:[["place",h,this],["render",b,this]]});this.model=new c;this.plugins=new f;this.dom=this.template=null;this.onRender=function(){};this.action=function(a,b){d.event(a,{UI:this,params:b})};this.onPlace=function(){}}});
define("Olives/Plugins",["Tools"],function(g){return function(){var c={},f=function(b){return b.trim()},b=function(b,e,d){e.split(";").forEach(function(a){var e=a.split(":"),a=e[0].trim(),e=e[1]?e[1].split(",").map(f):[];e.unshift(b);c[d]&&c[d][a]&&c[d][a].apply(c[d],e)})};this.add=function(b,e){return typeof b=="string"&&typeof e=="object"&&e?(c[b]=e,true):false};this.get=function(b){return c[b]};this.del=function(b){return delete c[b]};this.apply=function(c){return c instanceof HTMLElement?(g.toArray(c.querySelectorAll("*")).forEach(function(c){g.loop(c.dataset,
function(d,a){b(c,d,a)})}),c):false}}});define("Olives/Text",["Olives/OObject","Olives/Model-plugin"],function(g,c){function f(b){this.template="<p data-model='toText:content'></p>";this.model.reset(b);this.plugins.add("model",new c(this.model))}return function(b){f.prototype=new g;return new f(b)}});
