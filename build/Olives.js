define("Olives/DomUtils",function(){return{getNodes:function(b,h){return b instanceof HTMLElement?(b.parentNode||document.createDocumentFragment().appendChild(b),b.parentNode.querySelectorAll(h||"*")):false}}});define("Olives/List",["Olives/OObject","Olives/Model-plugin"],function(b,h){function d(d){this.template="<ul data-model='toList'><li></li></ul>";this.model.reset(d);this.plugins.add("model",new h(this.model))}return function(i){d.prototype=new b;return new d(i)}});
define("Olives/Model-plugin",["Store","Observable","Tools"],function(b,h,d){return function(i){var f=null,c=new h,e=function(a,g){a.innerHTML=g};this.setModel=function(a){return a instanceof b?(f=a,f.watch("updated",function(a,d){c.notify(a,d)}),f.watch("added",function(a,d){c.notify(a,d)}),true):false};this.getModel=function(){return f};this.toList=function(a){var g=a.childNodes[0],c=document.createDocumentFragment(),b=this.getName();g&&(f.loop(function(a,f){var e=g.cloneNode(true);e.childNodes&&
d.loop(e.childNodes,function(a){a.dataset[b]&&(a.dataset[b+".id"]=f)});e.dataset[b]&&(e.dataset[b+".id"]=f);this.apply(e);c.appendChild(e)},this),a.replaceChild(c,g));f.watch("added",function(c){var e=g.cloneNode(true);e.childNodes&&d.loop(e.childNodes,function(a){a.dataset[b]&&(a.dataset[b+".id"]=c)});e.dataset[b]&&(e.dataset[b+".id"]=c);this.apply(e);a.insertBefore(e,a.childNodes[c])},this);f.watch("deleted",function(c){a.replaceChild(document.createTextNode(""),a.childNodes[c])})};this.toText=
function(a,g){f.has(g)&&e(a,f.get(g));c.watch(g,function(c){a.innerHTML=c})};this.item=function(a,g){var b=a.dataset[this.getName()+".id"];f.has(b)&&(g?e(a,d.getObjectsProperty(f.get(b),g)):e(a,f.get(b)));c.watch(b,function(c){g&&(c=d.getObjectsProperty(f.get(b),g));a.innerHTML=c})};this.setModel(i)}});
define("Olives/OObject",["StateMachine","Store","Olives/Plugins"],function(b,h,d){return function(){var i=function(a){a=a.UI;if(a.template)a.dom=c,typeof a.template=="string"?a.dom.innerHTML=a.template:a.template instanceof HTMLElement&&a.dom.appendChild(a.template),a.plugins.apply(a.dom),a.onRender&&a.onRender();else throw Error("UI.template must be set prior to render");},f=function(a){var c=a.UI;a.params&&a.params.appendChild(c.dom);c.onPlace&&c.onPlace()},c=document.createElement("div"),e=new b("Init",
{Init:[["render",i,this,"Rendered"],["place",function(a){i(a);f(a)},this,"Rendered"]],Rendered:[["place",f,this],["render",i,this]]});this.model=new h;this.plugins=new d;this.dom=this.template=null;this.onRender=function(){};this.action=function(a,c){e.event(a,{UI:this,params:c})};this.onPlace=function(){}}});
define("Olives/Plugins",["Tools","Olives/DomUtils"],function(b,h){return function(){var d={},i=function(c){return c.trim()},f=function(c,b,a){b.split(";").forEach(function(b){var e=b.split(":"),b=e[0].trim(),e=e[1]?e[1].split(",").map(i):[];e.unshift(c);d[a]&&d[a][b]&&d[a][b].apply(d[a],e)})};this.add=function(c,b){var a;return typeof c=="string"&&typeof b=="object"&&b?(d[c]=b,b.getName=function(){return c},a=this,b.apply=function(){a.apply.apply(a,arguments)},true):false};this.get=function(b){return d[b]};
this.del=function(b){return delete d[b]};this.apply=function(c){return c instanceof HTMLElement?(c=h.getNodes(c),b.loop(b.toArray(c),function(c){b.loop(c.dataset,function(a,b){f(c,a,b)})}),true):false}}});define("Olives/Text",["Olives/OObject","Olives/Model-plugin"],function(b,h){function d(b){this.template="<p data-model='toText:content'></p>";this.model.reset(b);this.plugins.add("model",new h(this.model))}return function(h){d.prototype=new b;return new d(h)}});
