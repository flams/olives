define("Olives/List",["Olives/OObject","Store"],function(e){function a(a){this.model.reset(a);this.template="<ul data-connect='root'></ul>";this.onRender=function(){this.model.loop(function(c,d){this.placeItem(d,c)},this);this.model.watch("added",this.placeItem,this);this.model.watch("updated",this.placeItem,this);this.model.watch("deleted",this.placeItem,this)};this.placeItem=function(c,d){var a=this.connects.root,g=d?this.itemRenderer(d):document.createTextNode("");a.childNodes[c]?a.replaceChild(g,
a.childNodes[c]):a.appendChild(g)};this.itemRenderer=function(a){var d=document.createElement("li");d.innerHTML=a;return d}}return function(f){a.prototype=new e;return new a(f)}});
define("Olives/Model-plugin",["Store","Observable"],function(e,a){return function(f){var c=null,d=new a,h=function(d,b){d.innerHTML=b};this.setModel=function(a){return a instanceof e?(c=a,c.watch("updated",function(b,a){d.notify(b,a)}),c.watch("added",function(b,a){d.notify(b,a)}),true):false};this.getModel=function(){return c};this.toList=function(){};this.toText=function(a,b){c.has(b)&&h(a,c.get(b));d.watch(b,function(b){a.innerHTML=b})};this.setModel(f)}});
define("Olives/OObject",["StateMachine","Store","Olives/Plugins"],function(e,a,f){return function(){var c=function(b){b=b.UI;if(b.template)b.dom=h,typeof b.template=="string"?b.dom.innerHTML=b.template:b.template instanceof HTMLElement&&b.dom.appendChild(b.template),b.plugins.apply(b.dom),b.onRender&&b.onRender();else throw Error("UI.template must be set prior to render");},d=function(b){var a=b.UI;b.params&&b.params.appendChild(a.dom);a.onPlace&&a.onPlace()},h=document.createElement("div"),g=new e("Init",
{Init:[["render",c,this,"Rendered"],["place",function(b){c(b);d(b)},this,"Rendered"]],Rendered:[["place",d,this],["render",c,this]]});this.model=new a;this.plugins=new f;this.dom=this.template=null;this.onRender=function(){};this.action=function(b,a){g.event(b,{UI:this,params:a})};this.onPlace=function(){}}});
define("Olives/Plugins",["Tools"],function(e){return function(){var a={},f=function(a){return a.trim()},c=function(d,c,g){c.split(";").forEach(function(b){var c=b.split(":"),b=c[0].trim(),c=c[1]?c[1].split(",").map(f):[];c.unshift(d);a[g]&&a[g][b]&&a[g][b].apply(a[g],c)})};this.add=function(c,e){return typeof c=="string"&&typeof e=="object"&&e?(a[c]=e,true):false};this.get=function(c){return a[c]};this.del=function(c){return delete a[c]};this.apply=function(a){return a instanceof HTMLElement?(e.toArray(a.querySelectorAll("*")).forEach(function(a){e.loop(a.dataset,
function(d,b){c(a,d,b)})}),a):false}}});define("Olives/Text",["Olives/OObject","Olives/Model-plugin"],function(e,a){function f(c){this.template="<p data-model='toText:content'></p>";this.model.reset(c);this.plugins.add("model",new a(this.model))}return function(a){f.prototype=new e;return new f(a)}});
