/*
 Olives <VERSION> http://flams.github.com/olives
 The MIT License (MIT)
 Copyright (c) 2012-2013 Olivier Scherrer <pode.fr@gmail.com> - Olivier Wietrich <olivier.wietrich@gmail.com>
*/
require=function(b,g,f){function d(a,h){if(!g[a]){if(!b[a]){var c=typeof require=="function"&&require;if(!h&&c)return c(a,true);if(e)return e(a,true);throw Error("Cannot find module '"+a+"'");}c=g[a]={exports:{}};b[a][0].call(c.exports,function(c){var e=b[a][1][c];return d(e?e:c)},c,c.exports)}return g[a].exports}for(var e=typeof require=="function"&&require,a=0;a<f.length;a++)d(f[a]);return d}({1:[function(){},{}],olives:[function(b,g){g.exports=b("/Qfeoh")},{}],"/Qfeoh":[function(b,g){var f=b("emily");
console.log(f,"is defined");g.exports={"Bind.plugin":b("./Bind.plugin"),DomUtils:b("./DomUtils"),"Event.plugin":b("./Event.plugin"),LocalStore:b("./LocalStore"),OObject:b("./OObject"),"Place.plugin":b("./Place.plugin"),Plugins:b("./Plugins"),SocketIOTransport:b("./SocketIOTransport")}},{emily:1,"./Bind.plugin":2,"./DomUtils":3,"./Event.plugin":4,"./LocalStore":5,"./OObject":6,"./Place.plugin":7,"./Plugins":8,"./SocketIOTransport":9}],3:[function(b,g){var f=b("emily").Tools;g.exports={getNodes:function(d,
e){return this.isAcceptedType(d)?(d.parentNode||document.createDocumentFragment().appendChild(d),d.parentNode.querySelectorAll(e||"*")):false},getDataset:function(d){var e=0,a,b={},h,c;if(this.isAcceptedType(d))if(d.hasOwnProperty("dataset"))return d.dataset;else{for(a=d.attributes.length;e<a;e++)h=d.attributes[e].name.split("-"),h.shift()=="data"&&(b[c=h.join("-")]=d.getAttribute("data-"+c));return b}else return false},isAcceptedType:function(d){return d instanceof HTMLElement||d instanceof SVGElement?
true:false},setAttribute:function(d,e,a){return d instanceof HTMLElement?(d[e]=a,true):d instanceof SVGElement?(d.setAttribute(e,a),true):false},matches:function(d,e,a){return f.toArray(this.getNodes(d,e)).indexOf(a)>-1}}},{emily:1}],5:[function(b,g){function f(){var a=null,d=localStorage,b=function(){d.setItem(a,this.toJSON())};this.setLocalStorage=function(a){return a&&a.setItem instanceof Function?(d=a,true):false};this.getLocalStorage=function(){return d};this.sync=function(c){return typeof c==
"string"?(a=c,c=JSON.parse(d.getItem(c)),e.loop(c,function(a,c){this.has(c)||this.set(c,a)},this),b.call(this),this.watch("added",b,this),this.watch("updated",b,this),this.watch("deleted",b,this),true):false}}var d=b("emily").Store,e=b("emily").Tools;g.exports=function(a){f.prototype=new d(a);return new f}},{emily:1}],9:[function(b,g){b("emily");b("emily");g.exports=function(b){var d=null;this.setSocket=function(e){return e&&typeof e.emit=="function"?(d=e,true):false};this.getSocket=function(){return d};
this.on=function(e,a){return d.on(e,a)};this.once=function(e,a){return d.once(e,a)};this.emit=function(e,a,b){return d.emit(e,a,b)};this.removeListener=function(e,a,b){return d.removeListener(e,a,b)};this.request=function(e,a,b,d){return typeof e=="string"&&typeof a!="undefined"?(a={eventId:Date.now()+Math.floor(Math.random()*1E6),data:a},this.once(a.eventId,function(){b&&b.apply(d||null,arguments)}),this.emit(e,a),true):false};this.listen=function(b,a,d,h){if(typeof b=="string"&&typeof a!="undefined"&&
typeof d=="function"){var c={eventId:Date.now()+Math.floor(Math.random()*1E6),data:a,keepAlive:true},i=function(){d&&d.apply(h||null,arguments)},j=this;this.on(c.eventId,i);this.emit(b,c);return function(){j.emit("disconnect-"+c.eventId);j.removeListener(c.eventId,i)}}else return false};this.setSocket(b)}},{emily:1}],2:[function(b,g){var f=b("emily"),d=f.Store,e=f.Tools,a=b("./DomUtils");g.exports=function(b,h){function c(a){k[a]&&k[a].forEach(function(a){i.unwatchValue(a)});delete k[a]}var i=null,
j={},f={},k={};this.observers=k;this.setModel=function(a){return a instanceof d?(i=a,true):false};this.getModel=function(){return i};this.ItemRenderer=function(b,d){var n=null,j=null,f=null,h=null,k=null;this.setRenderer=function(a){n=a;return true};this.getRenderer=function(){return n};this.setRootNode=function(c){return a.isAcceptedType(c)?(f=c,c=f.querySelector("*"),this.setRenderer(c),c&&f.removeChild(c),true):false};this.getRootNode=function(){return f};this.setPlugins=function(a){j=a;return true};
this.getPlugins=function(){return j};this.items={};this.setStart=function(a){return h=parseInt(a,10)};this.getStart=function(){return h};this.setNb=function(a){return k=a=="*"?a:parseInt(a,10)};this.getNb=function(){return k};this.addItem=function(a){var c;return typeof a=="number"&&!this.items[a]?(c=this.getNextItem(a),(a=this.create(a))?(c?f.insertBefore(a,c):f.appendChild(a),true):false):false};this.getNextItem=function(a){var c=Object.keys(this.items).map(function(a){return Number(a)}),b=e.closestGreater(a,
c),c=c[b];if(c!=a)return this.items[c]};this.removeItem=function(a){var b=this.items[a];return b?(f.removeChild(b),delete this.items[a],c(a),true):false};this.create=function(c){if(i.has(c)){var b=n.cloneNode(true),d=a.getNodes(b);e.toArray(d).forEach(function(a){a.setAttribute("data-"+j.name+"_id",c)});this.items[c]=b;j.apply(b);return b}};this.render=function(){var a=k=="*"?i.getNbItems():k,c=[];if(k!==null&&h!==null){e.loop(this.items,function(b,d){d=Number(d);(d<h||d>=h+a||!i.has(d))&&c.push(d)},
this);c.sort(e.compareNumbers).reverse().forEach(this.removeItem,this);for(var b=h,d=a+h;b<d;b++)this.addItem(b);return true}else return false};this.setPlugins(b);this.setRootNode(d)};this.setItemRenderer=function(a,c){f[a||"default"]=c};this.getItemRenderer=function(a){return f[a]};this.foreach=function(a,b,d,e){var f=new this.ItemRenderer(this.plugins,a);f.setStart(d||0);f.setNb(e||"*");f.render();i.watch("added",f.render,f);i.watch("deleted",function(a){f.render();c(a)},this);this.setItemRenderer(b,
f)};this.updateStart=function(a,c){var b=this.getItemRenderer(a);return b?(b.setStart(c),true):false};this.updateNb=function(a,c){var b=this.getItemRenderer(a);return b?(b.setNb(c),true):false};this.refresh=function(a){return(a=this.getItemRenderer(a))?(a.render(),true):false};this.bind=function(c,b,d){var d=d||"",f=c.getAttribute("data-"+this.plugins.name+"_id"),j=d.split("."),h=f||j.shift(),k=f?d:j.join("."),f=e.getNestedProperty(i.get(h),k),g=e.toArray(arguments).slice(3);if(f||f===0||f===false)this.execBinding.apply(this,
[c,b,f].concat(g))||a.setAttribute(c,b,f);this.hasBinding(b)||c.addEventListener("change",function(){i.has(h)&&(k?i.update(h,d,c[b]):i.set(h,c[b]))},true);this.observers[h]=this.observers[h]||[];this.observers[h].push(i.watchValue(h,function(d){this.execBinding.apply(this,[c,b,e.getNestedProperty(d,k)].concat(g))||a.setAttribute(c,b,e.getNestedProperty(d,k))},this))};this.set=function(c){return a.isAcceptedType(c)&&c.name?(i.set(c.name,c.value),true):false};this.getItemIndex=function(c){return(c=
a.getDataset(c))&&typeof c[this.plugins.name+"_id"]!="undefined"?+c[this.plugins.name+"_id"]:false};this.form=function m(m){if(m&&m.nodeName=="FORM"){var a=this;m.addEventListener("submit",function(c){e.toArray(m.querySelectorAll("[name]")).forEach(a.set,a);c.preventDefault()},true);return true}else return false};this.addBinding=function(a,c){return a&&typeof a=="string"&&typeof c=="function"?(j[a]=c,true):false};this.execBinding=function(a,c){return this.hasBinding(c)?(j[c].apply(a,Array.prototype.slice.call(arguments,
2)),true):false};this.hasBinding=function(a){return j.hasOwnProperty(a)};this.getBinding=function(a){return j[a]};this.addBindings=function(a){return e.loop(a,function(a,c){this.addBinding(c,a)},this)};this.setModel(b);this.addBindings(h)}},{emily:1,"./DomUtils":3}],4:[function(b,g){var f=b("./DomUtils");g.exports=function(b,e){var a=null,g={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},h=!!e;this.addEventListener=function(a,b,d,e){a.addEventListener(this.map(b),d,!!e)};this.listen=
function(c,b,d,e){this.addEventListener(c,b,function(b){a[d].call(a,b,c)},!!e)};this.delegate=function(c,b,d,e,h){this.addEventListener(c,d,function(d){f.matches(c,b,d.target)&&a[e].call(a,d,c)},!!h)};this.getParent=function(){return a};this.setParent=function(c){return c instanceof Object?(a=c,true):false};this.map=function(a){return h?g[a]||a:a};this.setMap=function(a,b){return typeof a=="string"&&typeof b=="string"?(g[a]=b,true):false};this.setParent(b)}},{"./DomUtils":3}],6:[function(b,g){var f=
b("emily").StateMachine,d=b("emily").Store,e=b("./Plugins"),a=b("./DomUtils"),o=b("emily").Tools;g.exports=function(b){var c=function(c){var b=j||document.createElement("div");if(c.template){typeof c.template=="string"?b.innerHTML=c.template.trim():a.isAcceptedType(c.template)&&b.appendChild(c.template);if(b.childNodes.length>1)throw Error("UI.template should have only one parent node");else c.dom=b.childNodes[0];c.plugins.apply(c.dom)}else throw Error("UI.template must be set prior to render");},
i=function l(a,l,c){l&&(c?l.insertBefore(a.dom,c):l.appendChild(a.dom),j=l)},j=null,g=new f("Init",{Init:[["render",c,this,"Rendered"],["place",function(a,b){c(a);i.apply(null,o.toArray(arguments))},this,"Rendered"]],Rendered:[["place",i,this],["render",c,this]]});this.model=b instanceof d?b:new d;this.plugins=new e;this.dom=this.template=null;this.place=function(a,c){g.event("place",this,a,c)};this.render=function(){g.event("render",this)};this.setTemplateFromDom=function(c){return a.isAcceptedType(c)?
(this.template=c,true):false};this.alive=function(c){return a.isAcceptedType(c)?(this.setTemplateFromDom(c),this.place(c.parentNode,c.nextElementSibling),true):false};this.getCurrentPlace=function(){return j}}},{emily:1,"./Plugins":8,"./DomUtils":3}],7:[function(b,g){var f=b("./OObject"),d=b("emily").Tools;g.exports=function(b){var a={};this.place=function(b,d){if(a[d]instanceof f)a[d].place(b);else throw Error(d+" is not an OObject UI in place:"+d);};this.set=function(b,d){return typeof b=="string"&&
d instanceof f?(a[b]=d,true):false};this.setAll=function(a){d.loop(a,function(a,c){this.set(c,a)},this)};this.get=function(b){return a[b]};this.setAll(b)}},{emily:1,"./OObject":6}],8:[function(b,g){var f=b("emily").Tools,d=b("./DomUtils");g.exports=function(b){var a={},g=function(a){return a.trim()},h=function(c,b,d){b.split(";").forEach(function(b){var e=b.split(":"),b=e[0].trim(),e=e[1]?e[1].split(",").map(g):[];e.unshift(c);a[d]&&a[d][b]&&a[d][b].apply(a[d],e)})};this.add=function(c,b){var d=this;
return typeof c=="string"&&typeof b=="object"&&b?(a[c]=b,b.plugins={name:c,apply:function(){return d.apply.apply(d,arguments)}},true):false};this.addAll=function(a){return f.loop(a,function(a,b){this.add(b,a)},this)};this.get=function(b){return a[b]};this.del=function(b){return delete a[b]};this.apply=function(a){var b;return d.isAcceptedType(a)?(b=d.getNodes(a),f.loop(f.toArray(b),function(a){f.loop(d.getDataset(a),function(b,c){h(a,b,c)})}),a):false};this.addAll(b)}},{emily:1,"./DomUtils":3}]},
{},[]);
