<!doctype html>
<html>
	<head>
		<title>SocketIOTransport integration test</title>
		<script src="/socket.io/socket.io.js"></script>
		<script src="lib/require.js"></script>
		<script src="lib/Emily.js"></script>
		<script src="build/Olives.js"></script>
	<head>
		<body>

			<p>

			</p>

			<p>

			</p>

			<script>
				require(["SocketIOTransport"], function (SocketIOTransport) {
					var socket = io.connect("http://localhost"),
						transport = new SocketIOTransport(socket),
						p1 = document.querySelectorAll("p")[0],
						p2 = document.querySelectorAll("p")[1];

					transport.request("myHandler1", {req: "doesItWork?"}, function (data) {
						p1.innerHTML = data;
					});

					transport.listen("myHandler2", {req: "does it work?"}, function (data) {
						p2.innerHTML += data;
					});

				});
			</script>
		</body>
</html>
